(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const t=function(e){var t=e.duration,n=e.draw,r=e.timing,o=performance.now();requestAnimationFrame((function e(i){var a=(i-o)/t;a>1&&(a=1);var l=r(a);n(l),a<1&&requestAnimationFrame(e)}))};function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=function(){function e(t){var n=this,r=t.main,o=t.wrap,i=t.next,a=t.prev,c=t.infinity,s=void 0!==c&&c,u=t.slidesToShow,d=void 0===u?3:u,f=t.position,m=void 0===f?0:f,p=t.responsive,v=void 0===p?[]:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"prevSlider",(function(){(n.options.infinity||n.options.position>0)&&(--n.options.position,n.options.position<0&&(n.options.position=n.slides.length-n.slidesToShow),n.wrap.style.transform="translateX(-".concat(n.options.position*n.options.widthSlide,"%)"))})),l(this,"nextSlider",(function(){(n.options.infinity||n.options.position<n.slides.length-n.slidesToShow)&&(++n.options.position,n.options.position>n.slides.length-n.slidesToShow&&(n.options.position=0),n.wrap.style.transform="translateX(-".concat(n.options.position*n.options.widthSlide,"%)"))})),r&&o||console.warn('slider-carusel: Необходимо 2 селектора, "main" и "wrap"'),this.main=document.querySelector(r),this.wrap=document.querySelector(o),this.slides=document.querySelector(o).children,this.next=document.querySelector(i),this.prev=document.querySelector(a),this.slidesToShow=d,this.options={infinity:s,position:m,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=v}var t,n;return t=e,(n=[{key:"init",value:function(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responsiveInit()}},{key:"addGloClass",value:function(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}(this.slides);try{for(t.s();!(e=t.n()).done;)e.value.classList.add("glo-slider__item")}catch(e){t.e(e)}finally{t.f()}}},{key:"addStyle",value:function(){var e=document.getElementById("sliderCarusel-style");e||((e=document.createElement("style")).id="sliderCarusel-style"),e.textContent="\n            .glo-slider{\n                overflow: hidden !important;\n                position: relative;\n            }\n            .glo-slider__wrap{\n                display: flex !important;\n                transition: transform 0.5s !important;\n                will-change: transfrom !important;\n            }\n            .glo-slider__item{\n                display: flex !important;\n                justify-content: center;\n                align-items: center;\n                flex: 0 0 ".concat(this.options.widthSlide,"% !important;\n                margin: auto 0 !important;\n            }\n            .glo-slider__button{\n                margin: 0 10px;\n                border: 20px solid transparent;\n                background: transparent;\n                cursor: pointer;\n                position: absolute;\n                bottom: 55%;\n            }\n            .glo-slider__next{\n                border-left-color: grey;\n                right: 0px;\n            }\n            .glo-slider__prev{\n                border-right-color: grey;\n                left: 0px;\n            }\n            .glo-slider__next:hover,\n            .glo-slider__prev:hover,\n            .glo-slider__next:focus,\n            .glo-slider__prev:focus{\n                background: transparent;\n                outline: transparent;\n            }\n        "),document.head.appendChild(e)}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider),this.next.addEventListener("click",this.nextSlider)}},{key:"addArrow",value:function(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__button glo-slider__prev",this.next.className="glo-slider__button glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next)}},{key:"responsiveInit",value:function(){var e,t=this,n=this.slidesToShow,r=this.responsive.map((function(e){return e.breakpoint})),a=Math.max.apply(Math,function(e){if(Array.isArray(e))return i(e)}(e=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=function(){var e=document.documentElement.clientWidth;if(e<a)for(var o=0;o<r.length;o++)e<r[o]&&(t.slidesToShow=t.responsive[o].slidesToShow,t.options.widthSlide=Math.floor(100/t.slidesToShow),t.addStyle());else t.slidesToShow=n,t.options.widthSlide=Math.floor(100/t.slidesToShow),t.addStyle()};l(),window.addEventListener("resize",l)}}])&&a(t.prototype,n),e}();var s,u,d,f,m,p,v,h,y,g,S,b,w,E;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds"),o=document.querySelector("#timer-days"),i=document.querySelectorAll(".timer-numbers");function a(){function a(e){return(parseInt(e,10)<10&&parseInt(e,10)>=0?"0":"")+e}var l,c,s,u=(l=(new Date(e).getTime()-(new Date).getTime())/1e3,c=Math.floor(l%60),s=Math.floor(l/60%60),{timeRemaining:l,hours:Math.floor(l/3600%24),minutes:s,seconds:c,days:Math.floor(l/3600/24)});u.timeRemaining<0?(i.forEach((function(e){return e.style.color="red"})),t.textContent="00",n.textContent="00",r.textContent="00",o.textContent="0"):(t.textContent=a(u.hours),n.textContent=a(u.minutes),r.textContent=a(u.seconds),o.textContent=u.days)}a(),setInterval(a,1e3)})("10 may 2021"),S=document.querySelector("menu"),b=document.querySelector(".close-btn"),w=document.querySelector("body"),E=function(t){if(Array.isArray(t))return e(t)}(g=S.querySelectorAll("ul > li > a"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w.addEventListener("click",(function(e){(e.target.closest(".menu")||e.target===b||E.find((function(t){return t===e.target}))||S.matches(".active-menu")&&!e.target.closest("menu"))&&S.classList.toggle("active-menu")})),p=document.querySelector(".popup"),v=document.querySelectorAll(".popup-btn"),h=document.querySelector(".popup-close"),y=document.querySelector(".popup .popup-content"),v.forEach((function(e){return e.addEventListener("click",(function(){document.documentElement.clientWidth>768?t({duration:300,timing:function(e){return e},draw:function(e){p.style.display="block",y.style.top=100-90*e+"%"}}):p.style.display="block"}))})),p.addEventListener("click",(function(e){e.target!==p&&e.target!==h||(p.style.display="none")})),function(){var e=document.querySelector('[href="#service-block"]'),n=document.querySelector("main").getBoundingClientRect().height,r=document.querySelector("menu").querySelectorAll("ul > li > a"),o=[];r.forEach((function(e,n){var r=e.getAttribute("href"),i=document.querySelector("".concat(r)).getBoundingClientRect().height;o.push(i);var a=o.reduce((function(e,t){return e+t}),0);e.addEventListener("click",(function(e){e.preventDefault(),t({duration:500,timing:function(e){return e},draw:function(e){0===document.documentElement.scrollTop?document.documentElement.scrollTop=e*(a-i):window.scrollBy(0,e*(a-i-document.documentElement.scrollTop))}})}))})),e.addEventListener("click",(function(e){e.preventDefault(),t({duration:500,timing:function(e){return e},draw:function(e){0===document.documentElement.scrollTop?document.documentElement.scrollTop=e*n:window.scrollBy(0,e*(n-document.documentElement.scrollTop))}})}))}(),d=document.querySelector(".service-header"),f=d.querySelectorAll(".service-header-tab"),m=document.querySelectorAll(".service-tab"),d.addEventListener("click",(function(e){var t=e.target.closest(".service-header-tab");t&&f.forEach((function(e,n){e===t&&function(e){for(var t=0;t<m.length;t++)e===t?(f[t].classList.add("active"),m[t].classList.remove("d-none")):(f[t].classList.remove("active"),m[t].classList.add("d-none"))}(n)}))})),function(){for(var e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),r=0;r<t.length;r++){var o=document.createElement("li");o.className="dot",0===r?(o.classList.add("dot-active"),n.append(o)):n.append(o)}var i,a=document.querySelectorAll(".dot"),l=0,c=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},u=function(){c(t,l,"portfolio-item-active"),c(a,l,"dot-active"),++l>=t.length&&(l=0),s(t,l,"portfolio-item-active"),s(a,l,"dot-active")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;i=setInterval(u,e)};e.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(c(t,l,"portfolio-item-active"),c(a,l,"dot-active"),n.matches("#arrow-right")?l++:n.matches("#arrow-left")?l--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(l=t)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),s(t,l,"portfolio-item-active"),s(a,l,"dot-active"))})),e.addEventListener("mouseover",(function(e){e.target.matches(".portfolio-btn, .dot")&&clearInterval(i)})),e.addEventListener("mouseout",(function(e){e.target.matches(".portfolio-btn, .dot")&&d()})),d(4e3)}(),document.querySelectorAll(".command__photo").forEach((function(e){var t=e.src;e.addEventListener("mouseover",(function(){return e.src=e.dataset.img})),e.addEventListener("mouseout",(function(){return e.src=t}))})),function(){var e=document.querySelector("body"),t=document.querySelectorAll(".footer-form-input > .row > div > input, .main-form-input > .row > div > input");function r(e){if("user_name"===e.target.name)e.target.value.length<3?e.target.setCustomValidity("Имя не может быть короче 3 букв"):e.target.setCustomValidity(""),e.target.value=e.target.value.replace(/[^а-яА-Я\s]/g,"");else if("user_message"===e.target.name)e.target.value=e.target.value.replace(/[^а-яА-Я0-9.,!?;:'" ]/g,"");else if("email"===e.target.type){var t=e.target.value;e.target.value="",e.target.value=t,e.target.value=e.target.value.replace(/[^a-zA-Z0-9-@_.!~*']/g,""),e.target.value=e.target.value.replace(/-{2,}/,"-"),e.target.value=e.target.value.replace(/\.{2,}/,".")}else"number"===e.target.type?e.target.value=e.target.value.replace(/\D/gi,""):"tel"===e.target.type&&(e.target.value.length<18?e.target.setCustomValidity("Не полный номер телефона"):e.target.setCustomValidity(""))}!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(e){var n=e.keyCode,r=t,o=r.replace(/\D/g,""),i=this.value.replace(/\D/g,""),a=0,l=r.replace(/[_\d]/g,(function(e){return a<i.length?i.charAt(a++)||o.charAt(a):e}));-1!=(a=l.indexOf("_"))&&(l=l.slice(0,a));var c=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}var i,a=n(r);try{for(a.s();!(i=a.n()).done;){var l=i.value;l.addEventListener("input",o),l.addEventListener("focus",o),l.addEventListener("blur",o)}}catch(e){a.e(e)}finally{a.f()}}(".form-phone"),e.addEventListener("input",(function(e){return r(e)})),t.forEach((function(e){return e.addEventListener("blur",(function(e){r(e),"email"!==e.target.type?(e.target.value=e.target.value.trim(),""!==e.target.value&&(e.target.value=e.target.value.replace(/\s{2,}/," "),e.target.value=e.target.value[0].toUpperCase()+e.target.value.slice(1).toLowerCase())):(e.target.value=e.target.value.replace(/(^-|-$)/g,""),e.target.value=e.target.value.replace(/^\./g,""))}))}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),i=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),l=document.querySelector("#total"),c=function(){var n=0,c=1,s=1,u=r.options[r.selectedIndex].value,d=+o.value;i.value>1&&(c+=(i.value-1)/10),a.value&&a.value<5?s*=2:a.value&&a.value<10&&(s*=1.5),u&&d&&(n=e*u*d*c*s),t({duration:1e3,timing:function(e){return e},draw:function(e){l.textContent=Math.floor(e*n)}})};n.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&c()}))}(),s=document.querySelectorAll("form"),u=document.createElement("div"),s.forEach((function(e){return e.addEventListener("submit",(function(t){t.preventDefault(),u.innerHTML='\n        <div class="spinner">\n            <div class="rect1"></div>\n            <div class="rect2"></div>\n            <div class="rect3"></div>\n            <div class="rect4"></div>\n            <div class="rect5"></div>\n        </div>\n        ',e.appendChild(u);var n=new FormData(e),r={};n.forEach((function(e,t){r[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(r).then((function(t){if(200!==t.status)throw new Error("Все пропало!");u.style.cssText="font-size: 2rem; color: #fff",u.innerHTML="Спасибо! Мы скоро свяжемся с вами!",e.querySelectorAll("input").forEach((function(e){return e.value=""}))})).catch((function(e){u.innerHTML="Что то пошло не так",console.log(e)}))}))})),new c({main:".companies-wrapper",wrap:".companies-hor",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init()})();